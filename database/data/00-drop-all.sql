-- Drop all tables if they exist to ensure clean initialization
-- This runs before 00-schema.sql in alphabetical order

-- Drop tables in reverse dependency order
DROP TABLE IF EXISTS change_log CASCADE;
DROP TABLE IF EXISTS lookup_tables CASCADE;
DROP TABLE IF EXISTS attendance_cron_log CASCADE;
DROP TABLE IF EXISTS scraper_execution_log CASCADE;
DROP TABLE IF EXISTS system_health_metrics CASCADE;
DROP TABLE IF EXISTS data_import_jobs CASCADE;
DROP TABLE IF EXISTS system_notifications CASCADE;
DROP TABLE IF EXISTS api_usage_log CASCADE;
DROP TABLE IF EXISTS system_audit_log CASCADE;
DROP TABLE IF EXISTS feature_flags CASCADE;
DROP TABLE IF EXISTS system_settings CASCADE;
DROP TABLE IF EXISTS practice_teams CASCADE;
DROP TABLE IF EXISTS player_academic_status_history CASCADE;
DROP TABLE IF EXISTS player_medical_status_history CASCADE;
DROP TABLE IF EXISTS player_academic_status CASCADE;
DROP TABLE IF EXISTS player_medical_status CASCADE;
DROP TABLE IF EXISTS event_attendance CASCADE;
DROP TABLE IF EXISTS attendance_statuses CASCADE;
DROP TABLE IF EXISTS login_history CASCADE;
DROP TABLE IF EXISTS user_sessions CASCADE;
DROP TABLE IF EXISTS notification_log CASCADE;
DROP TABLE IF EXISTS recurring_event_instances CASCADE;
DROP TABLE IF EXISTS event_recurrences CASCADE;
DROP TABLE IF EXISTS recurrence_patterns CASCADE;
DROP TABLE IF EXISTS user_notification_preferences CASCADE;
DROP TABLE IF EXISTS notification_types CASCADE;
DROP TABLE IF EXISTS match_lineups CASCADE;
DROP TABLE IF EXISTS match_rosters CASCADE;
DROP TABLE IF EXISTS formations CASCADE;
DROP TABLE IF EXISTS match_officials CASCADE;
DROP TABLE IF EXISTS parent_rsvps_current CASCADE;
DROP TABLE IF EXISTS coach_rsvps_current CASCADE;
DROP TABLE IF EXISTS player_rsvps_current CASCADE;
DROP TABLE IF EXISTS parent_rsvp_history CASCADE;
DROP TABLE IF EXISTS coach_rsvp_history CASCADE;
DROP TABLE IF EXISTS player_rsvp_history CASCADE;
DROP TABLE IF EXISTS matches CASCADE;
DROP TABLE IF EXISTS practices CASCADE;
DROP TABLE IF EXISTS events CASCADE;
DROP TABLE IF EXISTS venues CASCADE;
DROP TABLE IF EXISTS meeting_teams CASCADE;
DROP TABLE IF EXISTS meetings CASCADE;
DROP TABLE IF EXISTS magic_tokens CASCADE;
DROP TABLE IF EXISTS team_admins CASCADE;
DROP TABLE IF EXISTS sport_division_admins CASCADE;
DROP TABLE IF EXISTS club_admins CASCADE;
DROP TABLE IF EXISTS league_division_admins CASCADE;
DROP TABLE IF EXISTS league_conference_admins CASCADE;
DROP TABLE IF EXISTS league_admins CASCADE;
DROP TABLE IF EXISTS team_followers CASCADE;
DROP TABLE IF EXISTS team_parents CASCADE;
DROP TABLE IF EXISTS player_guardians CASCADE;
DROP TABLE IF EXISTS team_volunteers CASCADE;
DROP TABLE IF EXISTS team_managers CASCADE;
DROP TABLE IF EXISTS team_medical_staff CASCADE;
DROP TABLE IF EXISTS team_coaches CASCADE;
DROP TABLE IF EXISTS team_players_status_history CASCADE;
DROP TABLE IF EXISTS team_players CASCADE;
DROP TABLE IF EXISTS roster_statuses CASCADE;
DROP TABLE IF EXISTS admin_permissions CASCADE;
DROP TABLE IF EXISTS system_admins CASCADE;
DROP TABLE IF EXISTS spectators CASCADE;
DROP TABLE IF EXISTS volunteers CASCADE;
DROP TABLE IF EXISTS managers CASCADE;
DROP TABLE IF EXISTS medical_staff CASCADE;
DROP TABLE IF EXISTS referees CASCADE;
DROP TABLE IF EXISTS parents CASCADE;
DROP TABLE IF EXISTS coaches CASCADE;
DROP TABLE IF EXISTS players CASCADE;
DROP TABLE IF EXISTS user_external_identities CASCADE;
DROP TABLE IF EXISTS user_emails CASCADE;
DROP TABLE IF EXISTS users CASCADE;
DROP TABLE IF EXISTS team_external_apps CASCADE;
DROP TABLE IF EXISTS teams CASCADE;
DROP TABLE IF EXISTS sport_divisions CASCADE;
DROP TABLE IF EXISTS clubs CASCADE;
DROP TABLE IF EXISTS division_relationships CASCADE;
DROP TABLE IF EXISTS league_divisions CASCADE;
DROP TABLE IF EXISTS league_conferences CASCADE;
DROP TABLE IF EXISTS leagues CASCADE;
DROP TABLE IF EXISTS positions CASCADE;
DROP TABLE IF EXISTS external_apps CASCADE;
DROP TABLE IF EXISTS external_providers CASCADE;
DROP TABLE IF EXISTS admin_levels CASCADE;
DROP TABLE IF EXISTS home_away_statuses CASCADE;
DROP TABLE IF EXISTS rsvp_change_sources CASCADE;
DROP TABLE IF EXISTS rsvp_statuses CASCADE;
DROP TABLE IF EXISTS event_types CASCADE;
DROP TABLE IF EXISTS permissions CASCADE;
DROP TABLE IF EXISTS permission_categories CASCADE;
DROP TABLE IF EXISTS sports CASCADE;
DROP TABLE IF EXISTS schema_migrations CASCADE;

-- Note: Extensions are left intact (uuid-ossp, pgcrypto)
